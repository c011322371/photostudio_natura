var CREATE_TOP_THUMBNAIL={load:function(){$.ajax({url:"/json/topthumb.json",type:"GET",dataType:"json",cache:!1,success:$.proxy(this.init,this),error:function(t,s,i){var e={};try{e=$.parseJSON(t.responseText)}catch(t){}console.log(e.code||"パース失敗"),console.log(e.message||"パース失敗")}})},init:function(t){this.jsonData=t,this.setParameters(),this.createCassettes(),this.setParameters(),this.displayKvAnimation()},setParameters:function(){this.thumbList=$(".jsc-kv-container"),this.thumbItems=this.thumbList.find("li"),this.preview=$(".jsc-pg-preview")},createCassettes:function(){var t=document.createDocumentFragment();this.$template=this.thumbItems.detach();for(var s=0;s<this.jsonData.length;s++)this.$cassette=this.$template.clone(),this.$cassette.css({"background-image":"url("+this.jsonData[s].img+")"}),this.preview.eq(s).find("img").attr("src",this.jsonData[s].img),this.$cassette.find("a").attr("href",this.jsonData[s].href),this.$cassette.find("p").html(this.jsonData[s].description),t.appendChild(this.$cassette.get(0));this.thumbList.get(0).appendChild(t),OPARATION_SCROLL.init()},displayKvAnimation:function(){this.thumbItems.each(function(t){$(this).delay(150*t).fadeTo(1e3,1)})}},CREATE_PG_THUMBNAIL={load:function(){$.ajax({url:"/json/pgthumb.json",type:"GET",dataType:"json",cache:!1,success:$.proxy(this.init,this),error:function(t,s,i){var e={};try{e=$.parseJSON(t.responseText)}catch(t){}console.log(e.code||"パース失敗"),console.log(e.message||"パース失敗")}})},init:function(t){this.jsonData=t,this.setParameters(),this.createCassettes(),this.setParameters(),this.changePgPreview()},setParameters:function(){this.thumbList=$(".jsc-pg-list"),this.thumbItems=this.thumbList.find("li"),this.$thumbPreview=$(".jsc-pg-preview").find("img")},createCassettes:function(){var t=document.createDocumentFragment();this.$template=this.thumbItems.detach();for(var s=0;s<this.jsonData.length;s++){for(var i=0;i<this.jsonData[s].length;i++)this.$cassette=this.$template.clone(),this.$cassette.css({"background-image":"url("+this.jsonData[s][i].img+")"}),t.appendChild(this.$cassette.get(s));this.thumbList.get(s).appendChild(t)}var e=this;$(".jsc-grid-cut").each(function(t,s){$(window).on("scroll",function(){$(window).scrollTop()+$(window).height()<$(s).offset().top||e.displayKvAnimation($(s))})})},displayKvAnimation:function(t){t.find(".jsc-pg-list li").each(function(t){$(this).delay(150*t).fadeTo(1e3,1)}),t.find(".jsc-pg-preview img").fadeIn(1e3)},changePgPreview:function(){var t=this;this.thumbItems.on("click",function(){var s=$(this),i=s.index(),e=s.parents(".jsc-pg-cut"),n=e.index()-1;e.find(".jsc-pg-preview img").attr("src",t.jsonData[n][i].img).hide().fadeIn(1e3)})}},OPARATION_SCROLL={init:function(){this.setParameters(),this.showTrackerMenu(),this.smoothScroll()},setParameters:function(){this.window=$(window),this.gridCut=$(".jsc-grid-cut"),this.trackMenu=$(".jsc-track-menu"),this.cutLink=$(".jsc-track-link").find("a")},showTrackerMenu:function(){var t=this;t.gridCut.css({height:t.window.height()}),this.window.on("resize",function(){t.gridCut.css({height:t.window.height()})}),this.window.on("scroll",function(){t.gridCut.height()<=t.window.scrollTop()?t.trackMenu.fadeIn():t.trackMenu.fadeOut()})},smoothScroll:function(){this.cutLink.on("click",function(t){t.preventDefault();var s=$(this).attr("href"),i=$("#"==s||""==s?"html":s).offset().top;return $("body,html").animate({scrollTop:i},1e3,"swing"),!1})}},MODAL_MANAGER={init:function(){this.setParameters(),this.bindEvent()},setParameters:function(){this.$body=$("body"),this.$modalTrigger=$(".jsc-modal-trigger"),this.$modalContents=$(".jsc-modal-contents")},bindEvent:function(){var t=this;this.$modalTrigger.on("click",function(s){s.preventDefault(),t.$modalContents.fadeIn(),t.$body.css({overflow:"hidden"})}),this.$modalContents.on("click",function(){$(this).fadeOut(),t.$body.css({overflow:"auto"})})}};$(function(){CREATE_TOP_THUMBNAIL.load(),CREATE_PG_THUMBNAIL.load(),MODAL_MANAGER.init()});